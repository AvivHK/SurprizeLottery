<!DOCTYPE html>
<html lang="en">

<head>
    <!-- <script src="https://www.paypal.com/sdk/js?client-id=SB_CLIENT_ID"></script> -->
    <script src="https://kit.fontawesome.com/519f39c2f0.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"
        data-sdk-integration-source="button-factory"></script>

    <div id="header">
        <h1 id="siteName">Site Name!</h1>
    </div>

    <div id="container"></div>

    <script id="lotteryTemplate" type="text/x-handlebars-template">
    {{#each lotteryData}}
    
        <div class="card">
            
            {{#if isProduct}}
                <div class="prize">
                    <img  src="{{productPic}}" alt="{{productPrize}}">
                </div>
                <div class="type">
                    <h3 >{{productPrize}}</h3>
                </div>
            {{/if}}
            {{#unless isProduct}}
                <div class="prize">
                    <h1>{{moneyPrize}} DOLLARS</h1>
                </div>
                <div class="type">
                    <h3 >{{moneyPrize}}$</h3>
                </div>
            {{/unless}}
            <div class="lotteryInfo">
                <div class="participants">Odds: 1/{{users.length}} </div>
                <div class="timer">timer</div>
                <div class="dueDate">{{dueDate}}</div>
            </div>
            
            <div class="paymentBox">

                <div class="buyIn">{{entryFee}}$ per ticket</div>
                <div class="paypal-button-container"></div>
            </div>
    </div>
    {{/each}}

    <script>
        paypal.Buttons({
            style: {
                shape: 'pill',
                color: 'black',
                layout: 'horizontal',
                label: 'pay',
                tagline: false

            },
            createOrder: function (data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: '1'
                        }
                    }]
                });
            },
            onApprove: function (data, actions) {
                
                return actions.order.capture().then(function (details) {
                    alert('Transaction completed by ' + details.payer.name.given_name + '!');
                });
            }
        }).render('.paypal-button-container');
    </script>
    </script>

    <script id="WinnerTemplate" type="text/x-handlebars-template">
        {{#if done}}
            {{#each lotteryData}}
                <ul class="winnerList">
                    <li class="winnerInfo">{{firstName}}-{{LastName}}won{{productPrize }}</li>
                </ul>  
            {{/each}}
        {{/if}}

      </script>












    <script src="/handlebars/dist/handlebars.js"></script>
    <script src="/jquery/dist/jquery.js"></script>
    <script src="renderer.js"></script>
    <script src="lotteryManager.js"></script>
    <script src="main.js"></script>
</body>

</html>